<!DOCTYPE html>
<html lang="en">
<head>
	<title>Login y Registro</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="icon" type="image/png" href="#"/>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="../vendor/bootstrap/css/bootstrap.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="../fonts1/font-awesome-4.7.0/css/font-awesome.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="../fonts1/iconic/css/material-design-iconic-font.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="../vendor/animate/animate.css">
<!--===============================================================================================-->	
	<link rel="stylesheet" type="text/css" href="../vendor/css-hamburgers/hamburgers.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="../vendor/animsition/css/animsition.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="../vendor/select2/select2.min.css">
<!--===============================================================================================-->	
	<link rel="stylesheet" type="text/css" href="../vendor/daterangepicker/daterangepicker.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="../css1/util.css">
	<link rel="stylesheet" type="text/css" href="../css1/main.css">
<!--===============================================================================================-->
</head>
<body>
	
	<div class="limiter">
		<div class="container-login100" style="background-image: url('../images1/01.jpg'); ">
			<!--Div que contiene al formulario de Login-->
		<div class="wrap-login100 p-l-55 p-r-55 p-t-65 p-b-54" id="formLogin">
	<form class="login100-form validate-form" action="../c/login.php" method="POST">
					<span class="login100-form-title p-b-49">
						Iniciar Sesión
					</span>

					<div class="wrap-input100 validate-input m-b-23" data-validate = "Username is reauired">
						<span class="label-input100">Correo Electrónico</span>
						<input class="input100" type="text" name="usuario" placeholder="Correo Electrónico o Téléfono" required>
						<span class="focus-input100" data-symbol="&#xf206;"></span>
					</div>

					<div class="wrap-input100 validate-input" data-validate="Password is required">
						<span class="label-input100">Contraseña</span>
						<input class="input100" type="password" name="clave" placeholder="Introduce tu contraseña" required>
						<span class="focus-input100" data-symbol="&#xf190;"></span>
					</div>
					
					<div class="text-right p-t-8 p-b-31">
						<a href="#">
							¿Has olvido tu contraseña?
						</a>
					</div>
					
					<div class="container-login100-form-btn">
						<div class="wrap-login100-form-btn">
							<div class="login100-form-bgbtn"></div>
			<button class="login100-form-btn" id="btningresar" disabled="true">Ingresar</button>
						</div>
					</div>

					<div class="txt1 text-center p-t-54 p-b-20">
						<span>
							O regístrese utilizando
						</span>
					</div>

					<div class="flex-c-m">
						<a href="#" class="login100-social-item bg1">
							<i class="fa fa-facebook"></i>
						</a>

						<a href="#" class="login100-social-item bg2">
							<i class="fa fa-twitter"></i>
						</a>

						<a href="#" class="login100-social-item bg3">
							<i class="fa fa-google"></i>
						</a>
					</div>

					<div class="flex-col-c p-t-155">
						<span class="txt1 p-b-17">
							O puede crear una cuenta
						</span>

						<a href="#" class="txt2 registro" id="crearCuenta">
							Crear Cuenta
						</a>
						<a href="../vistas/index.html" class="txt2 registro" id="crearCuenta">
							Home
						</a>
						<a href="#" class="txt2 registro" id="cambiaNombre">
							Cerrar Registro
						</a>
					</div>
				</form>
			</div>
           <!--***************************************************-->
		<div class="wrap-login100 p-l-55 p-r-55 p-t-65 p-b-54" id="formReg">
  <form id="registroForm" class="login100-form validate-form" method="POST" action="../c/registro.php" novalidate>
    <span class="login100-form-title p-b-49">Registro</span>

    <table>
      <tr>
        <td>
          <div class="wrap-input100 validate-input m-b-23" data-validate="name is required">
            <span class="label-input100">Nombre</span>
            <input id="nombre" class="input100" type="text" name="nombre" placeholder="Ingrese su nombre" autocomplete="given-name">
            <span class="focus-input100" data-symbol="&#xf206;"></span>
            <div class="error" id="errorNombre"></div>
          </div>
        </td>

        <td>
          <div class="wrap-input100 validate-input m-b-23" data-validate="apellidos is required">
            <span class="label-input100">Apellidos</span>
            <input id="apellidos" class="input100" type="text" name="apellidos" placeholder="Ingrese apellidos" autocomplete="family-name">
            <span class="focus-input100" data-symbol="&#xf206;"></span>
            <div class="error" id="errorApellidos"></div>
          </div>
        </td>
      </tr>

      <tr>
        <td colspan="2">
          <div class="wrap-input100 validate-input m-b-23" data-validate="Email is required">
            <span class="label-input100">Correo electrónico</span>
            <!-- usar name="usuario" para que coincida con el backend -->
            <input id="usuario" class="input100" type="email" name="usuario" placeholder="ejemplo@correo.com" autocomplete="email" required>
            <span class="focus-input100" data-symbol="&#xf206;"></span>
            <div class="error" id="errorUsuario"></div>
          </div>
        </td>
      </tr>

      <tr>
        <td>
          <div class="wrap-input100 validate-input m-b-23" data-validate="Password is required">
            <span class="label-input100">Contraseña</span>
            <input id="clave" class="input100 wph" type="password" name="clave" placeholder="Introduce tu contraseña" autocomplete="new-password">
            <span class="focus-input100" data-symbol="&#xf190;"></span>
            <div class="error" id="errorClave"></div>
          </div>
        </td>

        <td>
          <div class="wrap-input100 validate-input m-b-23" data-validate="Password confirmation is required">
            <span class="label-input100">Confirmación</span>
            <input id="confirmar" class="input100 wph" type="password" name="confirmar" placeholder="Confirma tu contraseña" autocomplete="new-password">
            <span class="focus-input100" data-symbol="&#xf190;"></span>
            <div class="error" id="errorConfirmar"></div>
          </div>
        </td>
      </tr>
    </table>

    <div class="container-login100-form-btn" id="reg">
      <div class="wrap-login100-form-btn">
        <div class="login100-form-bgbtn"></div>
        <button class="login100-form-btn" type="submit">Registrarme</button>
      </div>
    </div>

    <div class="txt1 text-center p-t-54 p-b-20">
      <a href="#" class="registro" id="cerrarRegistro">Prefiero iniciar sesión</a>
    </div>
  </form>
</div>

<style>
  /* estilos mínimos para los errores (ajusta al CSS que ya uses) */
  .error { color: #c00; font-size: 0.85em; margin-top: 6px; min-height: 16px; }
</style>

<script>
  (function(){
    const form = document.getElementById('registroForm');

    const fields = {
      nombre: { el: document.getElementById('nombre'), err: document.getElementById('errorNombre') },
      apellidos: { el: document.getElementById('apellidos'), err: document.getElementById('errorApellidos') },
      usuario: { el: document.getElementById('usuario'), err: document.getElementById('errorUsuario') },
      clave: { el: document.getElementById('clave'), err: document.getElementById('errorClave') },
      confirmar: { el: document.getElementById('confirmar'), err: document.getElementById('errorConfirmar') }
    };

    // Reglas de validación (puedes adaptarlas)
    function validarCampos() {
      let valido = true;

      // limpiar errores
      Object.values(fields).forEach(f => f.err.textContent = '');

      const nombre = fields.nombre.el.value.trim();
      const apellidos = fields.apellidos.el.value.trim();
  const usuario = fields.usuario.el.value.trim();
  const clave = fields.clave.el.value;
  const confirmar = fields.confirmar.el.value;

      if (!nombre) {
        fields.nombre.err.textContent = 'El nombre es obligatorio.';
        valido = false;
      }

      if (!apellidos) {
        fields.apellidos.err.textContent = 'Los apellidos son obligatorios.';
        valido = false;
      }

      if (!usuario) {
        fields.usuario.err.textContent = 'El correo es obligatorio.';
        valido = false;
      } else {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(usuario)) {
          fields.usuario.err.textContent = 'Introduce un correo válido.';
          valido = false;
        }
        if (/\s/.test(usuario)) {
          fields.usuario.err.textContent = 'El correo no puede contener espacios.';
          valido = false;
        }
      }

      if (!clave) {
        fields.clave.err.textContent = 'La contraseña es obligatoria.';
        valido = false;
      } else if (clave.length < 8) {
        fields.clave.err.textContent = 'La contraseña debe tener mínimo 8 caracteres.';
        valido = false;
      }

      if (!confirmar) {
        fields.confirmar.err.textContent = 'Confirma la contraseña.';
        valido = false;
      } else if (confirmar !== clave) {
        fields.confirmar.err.textContent = 'Las contraseñas no coinciden.';
        valido = false;
      }

      return valido;
    }

    // Validación al enviar
    form.addEventListener('submit', function(e){
      if (!validarCampos()) {
        e.preventDefault();
        // opcional: desplazar suavemente al primer error visible
        const firstError = document.querySelector('.error:not(:empty)');
        if (firstError) firstError.scrollIntoView({behavior:'smooth', block:'center'});
      }
    });

    // Validación en tiempo real (input / blur)
    Object.values(fields).forEach(f => {
      f.el.addEventListener('input', validarCampos);
      f.el.addEventListener('blur', validarCampos);
    });

    // OPTIONAL: si quieres comprobar usuario disponible via AJAX,
    // dime y te doy el snippet y el endpoint PHP check_user.php.
  })();
</script>


	<div id="dropDownSelect1"></div>

<!--===============================================================================================-->	
	<script src="../js1/jquery-latest.js"></script>
	<script src="../js1/registro.js"></script>
<!--===============================================================================================-->
	<script src="../vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
	<script src="../vendor/animsition/js/animsition.min.js"></script>
<!--===============================================================================================-->
	<script src="../vendor/bootstrap/js/popper.js"></script>
	<script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
	<script src="../vendor/select2/select2.min.js"></script>
<!--===============================================================================================-->
	<script src="../vendor/daterangepicker/moment.min.js"></script>
	<script src="../vendor/daterangepicker/daterangepicker.js"></script>
<!--===============================================================================================-->
	<script src="../vendor/countdowntime/countdowntime.js"></script>
<!--===============================================================================================-->	
	<!--<script src="js/main.js"></script>-->

	<!-- Smartsupp Live Chat script -->
  <!--<script type="text/javascript">
	var _smartsupp = _smartsupp || {};
	_smartsupp.key = '84f766c1c666fed556af769297e254e5013db2cf';
	window.smartsupp||(function(d) {
	  var s,c,o=smartsupp=function(){ o._.push(arguments)};o._=[];
	  s=d.getElementsByTagName('script')[0];c=d.createElement('script');
	  c.type='text/javascript';c.charset='utf-8';c.async=true;
	  c.src='https://www.smartsuppchat.com/loader.js?';s.parentNode.insertBefore(c,s);
	})(document);
	</script>
	<noscript> Powered by <a href=“https://www.smartsupp.com” target=“_blank”>Smartsupp</a></noscript> -->


    <!-- Smartsupp Live Chat LiveAgent script -->
	<!--<script type="text/javascript"> (function(d, src, c) { var t=d.scripts[d.scripts.length - 1],s=d.createElement('script');s.id='la_x2s6df8d';s.defer=true;s.src=src;s.onload=s.onreadystatechange=function(){var rs=this.readyState;if(rs&&(rs!='complete')&&(rs!='loaded')){return;}c(this);};t.parentElement.insertBefore(s,t.nextSibling);})(document, 'https://carlosgiraldoh.ladesk.com/scripts/track.js', function(e){ LiveAgent.createButton('072yr6c6', e); }); </script>
    -->
</body>
</html>